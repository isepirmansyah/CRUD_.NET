@page
@model MyWebApp.Pages.Posts.DeleteModel

@{
    ViewData["Title"] = "Delete Post";
}

<h1 class="text-4xl font-bold mb-6 text-center text-error">Delete Post</h1>

<div class="card bg-base-100 shadow-xl p-8 max-w-2xl mx-auto">
    <div class="alert alert-warning mb-6">
        <i class="fa-solid fa-triangle-exclamation text-xl"></i>
        <span>Are you sure you want to delete this post? This action cannot be undone.</span>
    </div>

    <h2 class="text-2xl font-bold mb-4">@Html.DisplayFor(model => model.Post.Title)</h2>

    <div class="grid grid-cols-1 md:grid-cols-2 gap-y-2 gap-x-4 text-sm mb-6">
        <div><span class="font-semibold">Author:</span> @(Model.Post.User?.UserName ?? "N/A")</div>
        <div><span class="font-semibold">Created At:</span> @Html.DisplayFor(model => model.Post.CreatedAt)</div>
        @if (Model.Post.UpdatedAt.HasValue)
        {
            <div class="md:col-span-2"><span class="font-semibold">Last Updated:</span> @Html.DisplayFor(model =>
                            model.Post.UpdatedAt)</div>
                }
    </div>

    <div class="prose max-w-none p-4 bg-base-200 rounded-box mb-6">
        @Html.Raw(Model.Post.Content.Replace("\n", "<br/>"))
    </div>

    <form method="post" class="flex gap-2 justify-end mt-4">
        <input type="hidden" asp-for="Post.Id" />
        <button type="submit" class="btn btn-error"><i class="fa-solid fa-trash-can mr-2"></i> Delete</button>
        <a asp-page="./Index" class="btn btn-ghost"><i class="fa-solid fa-arrow-left mr-2"></i> Cancel</a>
    </form>
</div>